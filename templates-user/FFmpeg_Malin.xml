<?xml version="1.0"?>
<Container version="2">
  <Name>FFmpeg_Malin</Name>
  <Repository>sftpmalin/ffmpeg:latest</Repository>
  <Network>bridge</Network>
  <Shell>bash</Shell>
  <Privileged>false</Privileged>

  <!-- -------- DESCRIPTION PRO -------- -->
  <Overview>
FFmpeg_Malin est un conteneur FFmpeg + SSH/SFTP entièrement automatisé et prêt à l’emploi.

Fonctionnalités principales :
- Génération automatique des clés SSH persistantes
- Création automatique des utilisateurs via users.conf
- Permissions Linux strictes et sécurisées
- Dossier /data/home adapté pour envoyer des fichiers en SFTP
- FFmpeg GPU-ready (NVENC / VAAPI si compatible hôte)
- Paramètres par défaut intelligents : aucun réglage obligatoire
- Conteneur utilisable immédiatement après installation

Documentation détaillée, options avancées SSH, multi-utilisateurs et
personnalisation disponibles sur la page GitHub du projet.
  </Overview>
  <Icon>https://raw.githubusercontent.com/sftpmalin/Media-Remote-Convert/main/logo/sftpmalin1.png</Icon>
  <Support>https://github.com/sftpmalin/Media-Remote-Convert/issues</Support>
  <Project>https://hub.docker.com/r/sftpmalin/ffmpeg</Project>
  <!-- Lien vers ton XML (à mettre à jour une fois dans ton repo unraid-templates) -->
  <TemplateURL>https://raw.githubusercontent.com/sftpmalin/unraid-templates/main/ffmpeg_malin.xml</TemplateURL>
  <Category>Tools:MediaServer:Video</Category>
  <!-- -------- PARAMÈTRES DU DOCKER -------- -->
  <Config Name="FFmpeg SSH" Target="22" Default="60022" Mode="tcp" Description="Port SSH/SFTP du conteneur" Type="Port" Display="always" Required="false" Mask="false">60022</Config>
  <Config Name="TZ" Target="TZ" Default="Europe/Paris" Mode="" Description="Fuseau horaire" Type="Variable" Display="always" Required="false" Mask="false">Europe/Paris</Config>
  <Config Name="Données et Configuration" Target="/data" Default="/mnt/user/appdata/ffmpeg/" Mode="rw" Description="Dossier de configuration et stockage FFmpeg_Malin" Type="Path" Display="always" Required="false" Mask="false">/mnt/user/appdata/ffmpeg/</Config>
  <Config Name="PUID" Target="PUID" Default="99" Mode="" Description="ID utilisateur (Unraid : nobody=99)" Type="Variable" Display="always" Required="false" Mask="false">99</Config>
  <Config Name="PGID" Target="PGID" Default="100" Mode="" Description="ID groupe (Unraid : users=100)" Type="Variable" Display="always" Required="false" Mask="false">100</Config>
  <Config Name="Clé SSH" Target="KEY_VAR" Default="3072" Mode="" Description="Taille de la clé SSH générée automatiquement. Valeurs acceptées : 4096, 3072, 2048 ou Ed25519" Type="Variable" Display="always" Required="false" Mask="false">3072</Config>

</Container>
